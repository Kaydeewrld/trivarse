"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79712,17057],{17057:function(n,e,t){t.r(e);var a=t(55319);t(67294);var o=t(93967),r=t.n(o),i=t(35005),l=t(58695),s=t(35944),c=(0,a.Z)("span",{target:"e4j41wh0"})("p{",(0,l.n5)("p3"),";}a{",(0,l.n5)("link-3"),";}");e.default=function(n){return n.texts.map(function(n,e){if(n.type_notrans){var t=n.type_notrans;return(0,s.tZ)(t,{className:r()(n.class_notrans),children:(0,s.tZ)(c,{children:(0,s.tZ)(i.ZP,{html:n.text})})},e)}})}},79712:function(n,e,t){t.r(e),t.d(e,{default:function(){return V}});var a=t(59499),o=t(17674),r=t(55319),i=t(67294),l=t(54401),s=t(50257),c=t(35005),u=t(93967),p=t.n(u),d=t(16397),g=t(50390),m=t(67925),b=t(83771),f=t(54614),h=t(83325),w=t(9415),v=t(1116);t(44672),t(18029);var _=t(35944),x="user_signup_email_from_login_app";function C(n){var e,t,a=(0,i.useRef)(null),o=(0,i.useRef)(null),r=(0,v.ZP)(),l=(0,b.Z)().pushDynamicStandardizedGAEvent,u=(0,i.useContext)(f.Z).is_auto_signup,C=(0,m.Z)(x).cookieValue,S=(0,i.useState)(!1),P=S[0],k=S[1],N=(0,i.useState)(void 0),Z=N[0],E=N[1],y=null!==(e=null===(t=n.error_messages)||void 0===t?void 0:t[Z])&&void 0!==e?e:"",T=(0,i.useState)(!1),O=T[0],F=T[1];(0,i.useEffect)(function(){var n=function(){return k(!0)},e=function(n){n.persisted&&k(!1)};return window.addEventListener("pagehide",n),window.addEventListener("pageshow",e),function(){window.removeEventListener("pagehide",n),window.removeEventListener("pageshow",e)}},[]);var B=(0,w.Z)().isRemoveGatedTrialCtaForNonTrialers;function H(e){var t,o,i,l,s,c;null==e||e.preventDefault(),a.current&&(null!==(t=window.AsanaHelpers.signupPreventedCallbacks)&&void 0!==t&&t.invalidPartnershipErrorCallback&&(window.AsanaHelpers.signupPreventedCallbacks.invalidPartnershipErrorCallback=function(n){k(!1),window.AsanaErrors.notifyException("Attempted partnership signup with invalid channel blocked for ".concat(r," channel")),window.AsanaHelpers.showModal("contact-support",{user_email:n})}),null!==(o=window.AsanaHelpers.signupPreventedCallbacks)&&void 0!==o&&o.partnershipEmailBlockedByChannel&&(window.AsanaHelpers.signupPreventedCallbacks.partnershipEmailBlockedByChannel=function(n){k(!1),E(n)}),null!==(i=window.AsanaHelpers.signupPreventedCallbacks)&&void 0!==i&&i.partnershipExistingUserSelfServeCallback&&(window.AsanaHelpers.signupPreventedCallbacks.partnershipExistingUserSelfServeCallback=function(n){var e=window.AsanaHelpers.getOrCreateXsrfToken(),t=window.AsanaHelpers.appUrl("/-/domain_channel_signup?email=".concat(encodeURIComponent(n),"&channel=").concat(encodeURIComponent(r),"&xsrf_token=").concat(e));window.location.href=t}),null!==(l=window.AsanaHelpers.signupPreventedCallbacks)&&void 0!==l&&l.partnershipExistingUserSelfServeBlockCallback&&(window.AsanaHelpers.signupPreventedCallbacks.partnershipExistingUserSelfServeBlockCallback=function(n){k(!1),window.AsanaErrors.notifyException("Attempted partnership signup with existing user blocked for ".concat(r," channel")),window.AsanaHelpers.showModal("contact-support",{user_email:n})}),null!==(s=window.AsanaHelpers.signupPreventedCallbacks)&&void 0!==s&&s.partnershipNewUserSelfServeBlockCallback&&(window.AsanaHelpers.signupPreventedCallbacks.partnershipNewUserSelfServeBlockCallback=function(n){k(!1),window.AsanaErrors.notifyException("Attempted partnership signup for new user blocked for ".concat(r," channel")),window.AsanaHelpers.showModal("contact-support",{user_email:n})}),null!==(c=window.AsanaHelpers.signupPreventedCallbacks)&&void 0!==c&&c.invalidEmailErrorCallback&&(window.AsanaHelpers.signupPreventedCallbacks.invalidEmailErrorCallback=function(){k(!1)}),"modal-signup"!==n.context&&(0,h.ZP)("start_free_trial_button"),"modal-signup"===n.context&&window.AsanaHelpers.enterFreeSignupFlow(),k(!0),window.AsanaHelpers.signupWithEmail(a.current,{isAutoSignup:u,supportsPinVerification:n.supports_pin_verification,partnershipChannel:r}))}var j=(0,c.Tc)(n.ctaCompleteSignup);switch(n.context){case"modal-try":case"modal-trial":n.ctaSignupTrial;break;case"get-started":n.ctaSignupWithoutFree;break;case"modal-signup":case"modal-buy-starter":case"modal-buy-advanced":n.ctaCompleteSignup;break;default:n.ctaSignupEmail}function I(){if(AsanaHelpers){var e=(0,d.stringsToFunction)(n.click_notrans);e&&e()}}var D=function(){new URLSearchParams(window.location.search);var n=window.AsanaHelpers.getUrlParams.get("login_target_url");n&&F(n.includes("form.asana.com")||n.includes("form-beta.asana.com"))};return(0,i.useEffect)(function(){o.current.focus(),u&&function(){if(C)o.current.value=C,AsanaStorage.setCookie(x,"",AsanaStorage.CATEGORY.FUNCTIONAL,-1,!0,window.location.pathname),I(),H();else{var n=new URL(window.AsanaHelpers.asanaDotComUrl("/create-account"),window.location.origin);n.search=window.location.search,window.location.href=n.toString()}}(),D()},[]),(0,_.BX)(_.HY,{children:[(0,_.BX)("form",{noValidate:!0,className:p()("signupForm",n.context&&"-".concat(n.context),!r&&"hidden-logged-in",n.class_notrans),onSubmit:H,ref:a,children:[(0,_.tZ)("div",{className:p()("signupForm-container",{"-center":n.center}),children:(0,_.BX)("div",{className:p()("signupForm-row","signupForm-row--stacked-form-mobile"),children:[(0,_.BX)("div",{className:"signupForm-email",children:[(0,_.tZ)("input",{type:"hidden",name:"name",value:""}),(0,_.tZ)("input",{className:p()("input","input--email","input--email-stacked-form-mobile","signup-email",n.context&&"signup-email-".concat(n.context)),placeholder:n.emailPlaceholder,name:"email",type:"email",autoFocus:!!n.autofocus_notrans,ref:o,onChange:function(){Z&&E(void 0)}}),(0,_.tZ)("span",{id:"signup-email__invalid-domain",className:"input-message input-message--error",children:n.ctaSignupDomainInvalid}),(0,_.tZ)("span",{id:"signup-email__bad_format",className:"input-message input-message--error",children:(0,_.tZ)(c.ZP,{html:n.ctaSignupBadFormat})}),Z&&(0,_.tZ)("span",{id:"signup-email__channel_blocked_email",className:"input-message input-message--error -active",children:(0,_.tZ)(c.ZP,{html:y})}),n.ctaSignupDomainClose&&(0,_.tZ)("span",{id:"signup-email__close-domain",className:"input-message input-message--error",children:(0,_.tZ)(c.ZP,{html:n.ctaSignupDomainClose})})]}),(0,_.BX)(A,{className:p()("signupForm-submit","signupForm-submit-stacked-form-mobile","submit","-large",n.context&&"signup-submit-".concat(n.context),n.button_classname),onClick:I,isSubmitting:P,children:[(0,_.BX)("span",{className:"signupForm-submit-text js-signupForm-submit--try",children:[(0,_.tZ)("span",{children:"modal-try"===n.context||"modal-trial"===n.context?n.ctaSignupTrial:"get-started"===n.context?n.ctaSignupWithoutFree:"modal-signup"===n.context||"modal-buy-starter"===n.context||"modal-buy-advanced"===n.context||"buy-page"===n.context?j:!O&&n.ctaSignupEmail}),(0,_.tZ)("span",{children:!O&&n.ctaSignupProgress})]}),(0,_.BX)("span",{className:"signupForm-submit-text js-signupForm-submit--buy",children:[(0,_.tZ)("span",{children:n.ctaCompleteSignup}),(0,_.tZ)("span",{children:!O&&n.ctaSignupProgress})]})]})]})}),!0===n.premium_link&&(0,_.BX)("p",{children:["Learn more about ",(0,_.tZ)(s.default,{href:"/premium",children:"Asana Premium"})]})]}),"modal-try"!==n.context&&"modal-signup"!==n.context&&"modal-trial"!==n.context&&"modal-buy"!==n.context&&"modal-get-started"!==n.context&&"modal-buy-starter"!==n.context&&"modal-buy-advanced"!==n.context&&!r&&(0,_.tZ)("a",{href:B?(0,g.By)():(0,g.TI)("".concat(g.h_.UPGRADE,"?trial=true")),className:"button -large invisible-logged-out -mobile-full",onClick:function(e){l(n.ctaSignupEmail,e,{destination:B?(0,g.By)():(0,g.TI)("".concat(g.h_.UPGRADE,"?trial=true")),subLocation:"FormSignupEmail",eventValue:n.ctaSignupEmail})},children:n.ctaSignupEmail})]})}function A(n){var e=n.onClick,t=n.className,a=n.children,o=n.isSubmitting;return(0,_.BX)("button",{className:p()(t,{"-request":o}),onClick:e,children:[(0,_.tZ)("span",{className:"signupForm-submit-icon",children:(0,_.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:(0,_.tZ)("circle",{cx:"8",cy:"8",r:"7.5"})})}),a]})}var S=t(78960),P=function(n){var e=n.buttonText,t=n.buttonClassName,a=n.buttonTextClassName,o=function(){window.AsanaAnalytics.trackGTM("login_google_auth"),window.AsanaAnalytics.trackGTM("signup_google_auth"),(0,S.ZP)({oauth_action_url:window.AsanaHelpers.appUrl("/-/oauth2callback"),target_url:window.AsanaHelpers.appUrl(),is_create:!0,xsrf_token:window.AsanaHelpers.getOrCreateXsrfToken(),window:window})};return(0,_.BX)("a",{className:p()("gmail-button-continue exp-gmail-button-continue",t),title:e,tabIndex:0,onClick:function(){o()},onKeyDown:function(n){"Enter"===n.key&&o()},children:[(0,_.tZ)("div",{className:"google-sso-verification-button-background",children:(0,_.tZ)("img",{className:"gmail-button-icon-continue",srcSet:"https://luna1.co/020de6.png 1x, https://luna1.co/328201.png 2x",src:"https://luna1.co/020de6.png",alt:"Google logo"})}),(0,_.tZ)("div",{className:"gmail-button-text-wrapper-continue",children:(0,_.tZ)("span",{className:p()("gmail-button-text-continue",a),children:e})})]})},k=t(27306),N=t(74883),Z=(0,r.Z)("div",{target:"e1a20g1y2"})("margin:20px 0 0 0;",function(n){return n.variant>0&&"margin: ".concat(N.N.SPACING_16," 0 0 0;")},";max-width:432px;.form-option{margin:0;padding:",N.N.SPACING_16," 0;font-size:12px;color:",k.D.NEUTRAL_4,";&::before,&::after{width:43%;border-color:",k.D.NEUTRAL_4,";",function(n){return n.variant>0&&"border-color: var(--black-200);"},";}}a.gmail-button-continue{margin:0;border-color:",k.D.NEUTRAL_5,";background-color:transparent;transition:0.25s border-color;&:hover{background-color:transparent;border-color:",k.D.NEUTRAL_9,";transition:0.25s border-color;}&.-bg-blue{background-color:#4285f4;}}span.gmail-button-text-continue{&.-white{color:#fff;padding-left:",N.N.SPACING_8,";}}"),E=(0,r.Z)("span",{target:"e1a20g1y1"})("text-transform:uppercase;",function(n){return n.variant>0&&"text-transform: lowercase;"},";"),y=(0,r.Z)("div",{target:"e1a20g1y0"})("form{div.signupForm-row{gap:",N.N.SPACING_16,";",function(n){return 2===n.variant&&"flex-direction: column;"},";}.input{border-radius:3px!important;border-right:1px solid #e0e6e8!important;&:hover{border-right-color:#b7bfc6!important;}&:focus{border-right-color:#222b37!important;}}button.signupForm-submit{border-radius:100px;background-color:var(--black-1000);}}"),T=t(40045),O=t(97248),F=t(49044),B=t(29326);function H(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,a)}return t}function j(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?H(Object(t),!0).forEach(function(e){(0,a.Z)(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}var I=function(n){var e,t=(0,i.useContext)(l.Z).global_or,a=(0,T.Z)(),o=(null==n||null===(e=n.google_button_text_override_notrans)||void 0===e?void 0:e[a])||n.google_button_text,r=(0,B.ts)("suf_016_google_sso_cta");return(0,_.BX)(Z,{id:"signupFormWithGoogleButton",variant:r,children:[r>0?(0,_.tZ)(O.Z,{value:!0,children:(0,_.tZ)(F.Z,{componentName:"googleSignupButton",buttonText:o})}):(0,_.tZ)(P,{buttonText:o,buttonTextClassName:n.google_button_text_class_notrans,buttonClassName:n.google_button_class_notrans}),(0,_.tZ)("div",{className:"form-option",children:(0,_.tZ)(E,{variant:r,children:t})}),r>0?(0,_.tZ)(y,{variant:r,children:(0,_.tZ)(C,j({},n))}):(0,_.tZ)(C,j({},n))]})},D=t(47794),U=t(17057),L=t(38841),G=t(91225);function R(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,a)}return t}function X(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?R(Object(t),!0).forEach(function(e){(0,a.Z)(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function V(n){var e,t,a=(0,i.useContext)(l.Z),r=(0,T.Z)(),s=null==n||null===(e=n.cta_signup_email_override_notrans)||void 0===e?void 0:e[r],c=(0,B.ts)("suf_016_google_sso_cta"),u={ctaSignupEmail:s||a.global_CTAcompleteSignup,ctaSignupTrial:a.global_CTAsignupTrial,ctaSignupWithoutFree:a.global_CTAsignupWithoutFree,ctaCompleteSignup:a.global_CTAcompleteSignup,emailPlaceholder:a.global_placeholderEmail,ctaSignupDomainInvalid:a.global_CTAsignupDomainInvalid,ctaSignupBadFormat:a.global_CTAsignupBadFormat,ctaSignupProgress:a.global_CTAsignupProgress,ctaSignupDomainClose:a.global_CTAsignupDomainClose,emailLabel:a.global_labelEmail,emailPasswordLabel:a.global_labelPassword,emailPasswordPlaceholder:a.global_placeholderPassword,ctaLoginEmail:a.global_CTAloginEmail,forgotPassword:a.global_forgotPassword},p=(0,v.ZP)(),d=(0,D.Z)(),g=!(0,o.Z)(d,1)[0]&&n.show_signup_google_button_notrans&&!p,m=n.should_wrap_container_notrans?W:i.Fragment,b=!!(null!==(t=n.multiline_notrans)&&void 0!==t&&t.includes(r));return g?(0,_.BX)(m,{multiline:b,variant:c,children:[(0,_.tZ)(I,X(X({},u),n)),Array.isArray(n.texts)?(0,_.tZ)(U.default,{texts:n.texts}):null]}):(0,_.tZ)(m,{multiline:!1,children:(0,_.tZ)(C,X(X({},u),n))})}var W=(0,r.Z)("div",{target:"eorjmaa0"})("display:grid;grid-template-columns:425px;justify-content:center;",(0,G.mq)(G.Uo.MOBILE_480,!0),"{grid-template-columns:auto;.gmail-button-text-continue{font-size:14px!important;line-height:1.25;}}",(0,G.mq)(G.Uo.MOBILE_375,!0),"{.signup-email-create-account,.signupForm-submit{font-size:14px;}}.form-option{padding:",N.N.SPACING_4," 0!important;",function(n){var e=n.variant;return(void 0===e?0:e)>0&&"padding: ".concat(N.N.SPACING_16," 0 !important")},";span{color:",L.fV.TEXT.TEXT_WEAK,";font-weight:500!important;}}.signupForm-tos{font-size:12px;line-height:20px;a{font-weight:normal;text-decoration:underline;color:",L.fV.TEXT.TEXT,";border:0;:hover{text-decoration-color:",L.fV.INLINE_LINKS.INLINE_LINK_HOVER,";}}}.signupForm-row{padding:0;}#signupFormWithGoogleButton{display:flex;flex-direction:column;margin-bottom:",N.N.SPACING_40,";",(0,G.mq)(G.Uo.TABLET_960),"{margin-bottom:",N.N.SPACING_16,";}}.signupForm-email{flex:2;}.signupForm-submit{flex:1;",function(n){return n.multiline?"padding: 16px":""},";}.gmail-button-text-continue{",function(n){return n.multiline?"line-height: 120%":""},";}")},1116:function(n,e,t){t.d(e,{GQ:function(){return i}});var a,o=t(39332),r=t(50145),i=((a={}).ALIGN="align",a.NONPROFIT="nonprofit",a.STUDENT="student",a);e.ZP=function(){var n=(0,o.useSearchParams)().get(r.g.PARTNERSHIP_CHANNEL);return n&&-1!==Object.values(i).indexOf(n)?n:void 0}}}]);